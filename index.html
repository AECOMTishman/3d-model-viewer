<!doctype html>
<meta charset="utf-8">
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Tishman BIM</title>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/pygment_trac.css">
    <script src="js/scale.fix.js"></script>
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/three.min.js"></script>
    <script src="js/Detector.js"></script>
    <script src="js/Stats.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/THREEx.KeyboardState.js"></script>
    <script src="js/THREEx.FullScreen.js"></script>
    <script src="js/THREEx.WindowResize.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://tishmanconstruction.github.io/test-website/"><img src="TishmanLogoBig.png"></a></h1>
        <p class="view"><a href="http://tishmanconstruction.github.io/test-website/page1.html">New York Public Library <small>Bryant Park Stack Expansion II</small></a></p>
        <p class="view"><a href="http://tishmanconstruction.github.io/test-website/page2.html">1 West End Avenue <small>Riverside Center Building 5</small></a></p>
      </header>
      <section>
        <h3>Tishman BIM</h3>
        <p>AECOM delivers program and construction management services to clients around the world – from project concept to completion and commissioning. Led by our Tishman Construction and Hunt Construction Group operations—AECOM’s construction services business brings together the world’s leading builders. Across the United States, Hunt and Tishman's strengths in diverse regions and complementary sectors form one of the nation’s leading builders and a powerful force in the industry.</p>
        <p>The construction services team offers clients a single and comprehensive source of solutions backed by AECOM’s combined local knowledge and global expertise. Our construction services experts provide clients with an extensive range of pre-construction and construction-related services and solutions for projects of varying scope, budget, schedule and complexity. Along with managing the complexity of each project, our construction services professionals build longstanding relationships with clients and design professionals. As an essential team member on each project, we play a crucial role in helping clients realize their visions. As a project progresses—or increases in complexity—we customize our services to fit each client’s unique needs and requirements. Our suite of services covers every aspect of a client’s project, from design to completion.</p>
        <div class="viewport 3d"></div>
      </section>
      <footer>
        <p><a href="http://www.aecom.com/What+We+Do/Construction+Services">Tishman Construction, An AECOM Company</a></p>
      </footer>
    </div>
<div id="ThreeJS" style="position: absolute; left:0px; top:0px"></div>
<script>
/*
  Three.js "tutorials by example"
  Author: Lee Stemkoski
  Date: July 2013 (three.js v59dev)
*/

// MAIN

// standard global variables
var container, scene, camera, renderer, controls, stats;
var keyboard = new THREEx.KeyboardState();
var clock = new THREE.Clock();

// custom global variables
var android;

init();
animate();

// FUNCTIONS    
function init() 
{
  // SCENE
  scene = new THREE.Scene();
  // CAMERA
  var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;
  var VIEW_ANGLE = 45, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;
  camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT, NEAR, FAR);
  scene.add(camera);
  camera.position.set(0,150,400);
  camera.lookAt(scene.position);  
  // RENDERER
  if ( Detector.webgl )
    renderer = new THREE.WebGLRenderer( {antialias:true} );
  else
    renderer = new THREE.CanvasRenderer(); 
  renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);
  container = document.getElementById( 'ThreeJS' );
  container.appendChild( renderer.domElement );
  // EVENTS
  THREEx.WindowResize(renderer, camera);
  THREEx.FullScreen.bindKey({ charCode : 'm'.charCodeAt(0) });
  // CONTROLS
  controls = new THREE.OrbitControls( camera, renderer.domElement );
  // STATS
  stats = new Stats();
  stats.domElement.style.position = 'absolute';
  stats.domElement.style.bottom = '0px';
  stats.domElement.style.zIndex = 100;
  container.appendChild( stats.domElement );
  // LIGHT
  var light = new THREE.PointLight(0xffffff);
  light.position.set(-100,200,100);
  scene.add(light);
  // FLOOR
  var floorTexture = new THREE.ImageUtils.loadTexture( 'checkerboard.jpg' );
  floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping; 
  floorTexture.repeat.set( 10, 10 );
  var floorMaterial = new THREE.MeshBasicMaterial( { map: floorTexture, side: THREE.DoubleSide } );
  var floorGeometry = new THREE.PlaneGeometry(1000, 1000, 10, 10);
  var floor = new THREE.Mesh(floorGeometry, floorMaterial);
  floor.position.y = -0.5;
  floor.rotation.x = Math.PI / 2;
  scene.add(floor);
  // SKYBOX/FOG
  var skyBoxGeometry = new THREE.CubeGeometry( 10000, 10000, 10000 );
  var skyBoxMaterial = new THREE.MeshBasicMaterial( { color: 0x9999ff, side: THREE.BackSide } );
  var skyBox = new THREE.Mesh( skyBoxGeometry, skyBoxMaterial );
  // scene.add(skyBox);
  scene.fog = new THREE.FogExp2( 0x9999ff, 0.00025 );
  
  ////////////
  // CUSTOM //
  ////////////
  
  // Note: if imported model appears too dark,
  //   add an ambient light in this file
  //   and increase values in model's exported .js file
  //    to e.g. "colorAmbient" : [0.75, 0.75, 0.75]
  var jsonLoader = new THREE.JSONLoader();
  jsonLoader.load( "android.js", addModelToScene );
  // addModelToScene function is called back after model has loaded
  
  var ambientLight = new THREE.AmbientLight(0x111111);
  scene.add(ambientLight);
  
}

function addModelToScene( geometry, materials ) 
{
  var material = new THREE.MeshFaceMaterial( materials );
  android = new THREE.Mesh( geometry, material );
  android.scale.set(10,10,10);
  scene.add( android );
}

function animate() 
{
    requestAnimationFrame( animate );
  render();   
  update();
}

function update()
{
  if ( keyboard.pressed("z") ) 
  { 
    // do something
  }
  
  controls.update();
  stats.update();
}

function render() 
{
  renderer.render( scene, camera );
}

</script>
  </body>
</html>