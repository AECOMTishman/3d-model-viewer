<!doctype html>

<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Sample Model</title>

    <link rel="icon" 
      type="image/png" 
      href="favicon.ico">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-toggle.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="left-nav">
      <a id="logo" target="_blank" href="http://www.aecom.com/What+We+Do/Construction+Services"><img src="TishmanLogo.png"></a>
      <div id="LightsMenu">
        <div class="list-group panel">
          <a href="#lightsmenu" class="list-group-item" data-toggle="collapse" data-parent="#LightsMenu"><span class="glyphicon glyphicon-lamp" aria-hidden="true"></span> Lights</a>
          <div class="collapse" id="lightsmenu">
            <div class="menu-toggle-button">
              <span class="toggle-label">Light 1</span>
              <input id="light1" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
            <div class="menu-toggle-button">
              <span class="toggle-label">Light 2</span>
              <input id="light2" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
            <div class="menu-toggle-button">
              <span class="toggle-label">Light 3</span>
              <input id="light3" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
            <hr>
            <center>
              Rotate<br>
              <div class="btn-group" role="group" aria-label="...">
                <button id="lighta" type="button" class="btn btn-default"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></button>
                <button id="lightb" type="button" class="btn btn-default"><span class="glyphicon glyphicon-pause" aria-hidden="true"></span></button>
                <button id="lightc" type="button" class="btn btn-default"><span class="glyphicon glyphicon-forward" aria-hidden="true"></span></button>
              </div>
            </center>
          </div>
        </div>
      </div>
      <div id="CameraMenu">
        <div class="list-group panel">
          <a href="#cameramenu" class="list-group-item" data-toggle="collapse" data-parent="#CameraMenu"><span class="glyphicon glyphicon-camera" aria-hidden="true"></span> Camera</a>
          <div class="collapse" id="cameramenu">
            <center>
              Rotate<br>
              <div class="btn-group" role="group" aria-label="...">
                <button id="cameraa" type="button" class="btn btn-default"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span><br><span style="font-size:6px;">CCW</span></button>
                <button id="camerab" type="button" class="btn btn-default"><span class="glyphicon glyphicon-pause" aria-hidden="true"></span><span style="font-size:6px;">pause</span></button>
                <button id="camerac" type="button" class="btn btn-default"><span class="glyphicon glyphicon-forward" aria-hidden="true"></span><span style="font-size:6px;">CW</span></button>
              </div>
            </center>
            <hr>
            <center>
              Preset Views<br>
              <a id="view1" href="javascript:void(0)" class="list-group-item">Exterior</a>
              <a id="view2" href="javascript:void(0)" class="list-group-item">Interior</a>
              <a id="view3" href="javascript:void(0)" class="list-group-item">Isometric</a>
            </center>
          </div>
        </div>
      </div>
      <div id="LayersMenu">
        <div class="list-group panel">
          <a href="#layersmenu" class="list-group-item" data-toggle="collapse" data-parent="#LayersMenu"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span> Layers</a>
          <div class="collapse" id="layersmenu">
            <div class="menu-toggle-button">
              <span class="toggle-label">Slabs</span>
              <input id="layer1" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
            <div class="menu-toggle-button">
              <span class="toggle-label">Facade</span>
              <input id="layer2" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
            <div class="menu-toggle-button">
              <span class="toggle-label">Steel</span>
              <input id="layer3" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
          </div>
        </div>
      </div>
      <div id="ControlsMenu">
        <div class="list-group panel">
          <a href="#controlsmenu" class="list-group-item" data-toggle="collapse" data-parent="#ControlsMenu"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Controls <span style="color:red;font-size:8px;">coming soon</span></a>
          <div class="collapse" id="controlsmenu">
            <center>
              Perspective<br>
              <div class="btn-group" role="group" aria-label="...">
                <button id="controla" type="button" class="btn btn-default">1st</button>
                <button id="controlb" type="button" class="btn btn-default">3rd</button>
              </div>
            </center>
            <hr>
            <div class="menu-toggle-button">
              <span class="toggle-label">VR Mode</span>
              <input id="vr-mode" type="checkbox" checked data-toggle="toggle" data-on="On" data-off="Off" data-onstyle="success" data-offstyle="danger">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="3d"></div>
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-toggle.min.js"></script>
    <script src="js/three.min.js"></script>

    <script src="js/stats.min.js"></script>
    <script src="js/Detector.js"></script>
    <script src="js/JSONLoader.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/FirstPersonControls.js"></script>
    <script src="js/sample-model.js"></script>
    <script>
        $('.btn-number').click(function(e){
            e.preventDefault();
            
            fieldName = $(this).attr('data-field');
            type      = $(this).attr('data-type');
            var input = $("input[name='"+fieldName+"']");
            var currentVal = parseInt(input.val());
            if (!isNaN(currentVal)) {
                if(type == 'minus') {
                    
                    if(currentVal > input.attr('min')) {
                        input.val(currentVal - 1).change();
                    } 
                    if(parseInt(input.val()) == input.attr('min')) {
                        $(this).attr('disabled', true);
                    }

                } else if(type == 'plus') {

                    if(currentVal < input.attr('max')) {
                        input.val(currentVal + 1).change();
                    }
                    if(parseInt(input.val()) == input.attr('max')) {
                        $(this).attr('disabled', true);
                    }

                }
            } else {
                input.val(0);
            }
        });
        $('.input-number').focusin(function(){
           $(this).data('oldValue', $(this).val());
        });
        $('.input-number').change(function() {
            
            minValue =  parseInt($(this).attr('min'));
            maxValue =  parseInt($(this).attr('max'));
            valueCurrent = parseInt($(this).val());
            
            name = $(this).attr('name');
            if(valueCurrent >= minValue) {
                $(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')
            } else {
                alert('Sorry, the minimum value was reached');
                $(this).val($(this).data('oldValue'));
            }
            if(valueCurrent <= maxValue) {
                $(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')
            } else {
                alert('Sorry, the maximum value was reached');
                $(this).val($(this).data('oldValue'));
            }
            
            
        });
        $(".input-number").keydown(function (e) {
            // Allow: backspace, delete, tab, escape, enter and .
            if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
                 // Allow: Ctrl+A
                (e.keyCode == 65 && e.ctrlKey === true) || 
                 // Allow: home, end, left, right
                (e.keyCode >= 35 && e.keyCode <= 39)) {
                     // let it happen, don't do anything
                     return;
            }
            // Ensure that it is a number and stop the keypress
            if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                e.preventDefault();
            }
        });
    </script>
  </body>
</html>