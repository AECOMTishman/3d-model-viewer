<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Tishman BIM</title>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/pygment_trac.css">
    <script src="js/scale.fix.js"></script>
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/three.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://tishmanconstruction.github.io/test-website/"><img src="TishmanLogoBig.png"></a></h1>
        <p class="view"><a href="http://tishmanconstruction.github.io/test-website/page1.html">New York Public Library <small>Bryant Park Stack Expansion II</small></a></p>
        <p class="view"><a href="http://tishmanconstruction.github.io/test-website/page2.html">1 West End Avenue <small>Riverside Center Building 5</small></a></p>
      </header>
      <section>
        <h3>Tishman BIM</h3>
        <p>AECOM delivers program and construction management services to clients around the world – from project concept to completion and commissioning. Led by our Tishman Construction and Hunt Construction Group operations—AECOM’s construction services business brings together the world’s leading builders. Across the United States, Hunt and Tishman's strengths in diverse regions and complementary sectors form one of the nation’s leading builders and a powerful force in the industry.</p>
        <p>The construction services team offers clients a single and comprehensive source of solutions backed by AECOM’s combined local knowledge and global expertise. Our construction services experts provide clients with an extensive range of pre-construction and construction-related services and solutions for projects of varying scope, budget, schedule and complexity. Along with managing the complexity of each project, our construction services professionals build longstanding relationships with clients and design professionals. As an essential team member on each project, we play a crucial role in helping clients realize their visions. As a project progresses—or increases in complexity—we customize our services to fit each client’s unique needs and requirements. Our suite of services covers every aspect of a client’s project, from design to completion.</p>
        <div class="viewport 3d"></div>
      </section>
      <footer>
        <p><a href="http://www.aecom.com/What+We+Do/Construction+Services">Tishman Construction, An AECOM Company</a></p>
      </footer>
    </div>
      <script>
      
        var container, scene, renderer, camera, light, clock, loader;
        var WIDTH, HEIGHT, VIEW_ANGLE, ASPECT, NEAR, FAR;

        container = document.querySelector('.viewport');

        clock = new THREE.Clock();

        WIDTH = 500, //window.innerWidth,
        HEIGHT = 500; //window.innerHeight;

        VIEW_ANGLE = 45,
        ASPECT = WIDTH / HEIGHT,
        NEAR = 1,
        FAR = 10000;

        scene = new THREE.Scene();

        renderer = new THREE.WebGLRenderer({antialias: true});

        renderer.setSize(WIDTH, HEIGHT);
        renderer.shadowMapEnabled = true;
        renderer.shadowMapSoft = true;
        renderer.shadowMapType = THREE.PCFShadowMap;
        renderer.shadowMapAutoUpdate = true;

        container.appendChild(renderer.domElement);

        camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);

        camera.position.set(0, 100, 300);
        camera.rotation.x = -Math.PI / 12;

        scene.add(camera);

        light = new THREE.DirectionalLight(0xffffff);

        light.position.set(0, 100, 60);
        light.castShadow = true;
        light.shadowCameraLeft = -60;
        light.shadowCameraTop = -60;
        light.shadowCameraRight = 60;
        light.shadowCameraBottom = 60;
        light.shadowCameraNear = 1;
        light.shadowCameraFar = 1000;
        light.shadowBias = -.0001
        light.shadowMapWidth = light.shadowMapHeight = 1024;
        light.shadowDarkness = .7;

        scene.add(light);

        loader = new THREE.JSONLoader();
        var mesh;
        loader.load('arrowhead.js', function (geometry, materials) {
          var material = new THREE.MeshLambertMaterial({
            map: THREE.ImageUtils.loadTexture('/js/threejs/models/textures/gtare.jpg'),   
            colorAmbient: [0.480000026226044, 0.480000026226044, 0.480000026226044],
            colorDiffuse: [0.480000026226044, 0.480000026226044, 0.480000026226044],
            colorSpecular: [0.8999999761581421, 0.8999999761581421, 0.8999999761581421]
          });
          
          mesh = new THREE.Mesh(
            geometry,
            material
          );

          mesh.receiveShadow = true;
          mesh.castShadow = true;
          mesh.rotation.y = -Math.PI/5;

          scene.add(mesh);
          render(); 
        });

        function render() {
         var time = clock.getElapsedTime();
         mesh.rotation.y += .01;

         renderer.render(scene, camera);
         requestAnimationFrame(render);
        }
      </script>
  </body>
</html>